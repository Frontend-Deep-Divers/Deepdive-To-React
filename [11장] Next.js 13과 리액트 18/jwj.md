# 11μ¥ Next.js 13κ³Ό λ¦¬μ•΅νΈ 18

Next.js 13 λ²„μ „μ€ λ§μ€ λ³€ν™”κ°€ μμ—μµλ‹λ‹¤.

1. λ¦¬μ•΅νΈ 18μ„ μ±„νƒ
2. μ•½μ μΌλ΅ μ§€μ λλ λ μ΄μ•„μ›ƒ μ§€μ›(?)
3. λ°”λ²¨μ„ λ€μ²΄ν•  Rust κΈ°λ° SWC(Next.js 12 λ²„μ „λ¶€ν„° μ§€μ›), λ’¤μ΄μ–΄ μ›Ήν©μ„ λ€μ²΄ν•  Turbopack μ¶μ‹

# 11.1 app λ””λ ‰ν„°λ¦¬

- layout.js

Next.js 12 λ²„μ „κΉμ§€λ” κ³µν†µ λ μ΄μ•„μ›ƒμ„ μ μ§€ν•λ ¤λ©΄ `pages` ν΄λ”μ `_app` λ””λ ‰ν„°λ¦¬λ¥Ό μ‚¬μ©ν•΄μ•Ό ν–μµλ‹λ‹¤. (νμ΄μ§€ λΌμ°ν„°) κ·Έλ¬λ‚ μ΄ λ°©μ‹μ€ κ° νμ΄μ§€λ³„λ΅ μ„λ΅ λ‹¤λ¥Έ λ μ΄μ•„μ›ƒμ„ μ μ§€ν•  μ μ—†μ—μµλ‹λ‹¤.

μ΄λ¬ν• ν•κ³„λ¥Ό κ·Ήλ³µν•κΈ° μ„ν•΄ 13 λ²„μ „λ¶€ν„° `app` λ μ΄μ•„μ›ƒ(`app` λΌμ°νƒ•)μ„ μ§€μ›ν•κΈ° μ‹μ‘ν–μµλ‹λ‹¤.

κΈ°μ΅΄μ `/pages`λ΅ μ •μν•λ λΌμ°ν… λ°©μ‹μ΄ `/app` λ””λ ‰ν„°λ¦¬λ΅ μ΄λ™ν–μµλ‹λ‹¤. λν• νμΌλ…μ€ λΌμ°ν…μ— μ•„λ¬΄ μν–¥μ„ λ―ΈμΉμ§€ μ•κ² λμ—μµλ‹λ‹¤. λ€μ‹  ν΄λ”λ…μΌλ΅ λΌμ°ν…ν•κ² λ©λ‹λ‹¤.

νμ΄μ§€ ν΄λ”μ— `layout`λ¥Ό λ§λ“¤λ©΄ ν•΄λ‹Ή μ£Όμ† ν•μ„μ— κ³µν†µ λ μ΄μ•„μ›ƒμ΄ μ μ©λ©λ‹λ‹¤. `/app`μ λ μ΄μ•„μ›ƒμ€ λ¨λ“  νμ΄μ§€μ— μν–¥μ„ λ―ΈμΉ©λ‹λ‹¤.

μ„λ²„ μ‚¬μ΄λ“ μ¤νƒ€μΌλ„ `_document`μ—μ„ μ¶”κ°€ν•λ λ°©μ‹μ΄ λ£¨νΈμ `layout`μ—μ„ μ§‘μ–΄λ„£κ²λ” λ³€κ²½λμ—μµλ‹λ‹¤.

- page.js

`layout.js`λ¥Ό κΈ°λ°μΌλ΅ λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈλ¥Ό λ…Έμ¶ν•©λ‹λ‹¤.

- error.js

ν•΄λ‹Ή λΌμ°ν… μμ—­μ—μ„ μ‚¬μ©λλ” κ³µν†µ μ—λ¬ μ»΄ν¬λ„νΈμ…λ‹λ‹¤.

λ£¨νΈ μ—λ¬ μ²λ¦¬λ¥Ό μ„ν•΄μ„  `app/global-error.js` νμ΄μ§€λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

- not-found.js

νΉμ • λΌμ°ν… ν•μ„μ μ£Όμ†λ¥Ό μ°Ύμ„ μ μ—†λ” 404 νμ΄μ§€λ¥Ό λ λ”λ§ν•  λ• μ‚¬μ©λλ” μ»΄ν¬λ„νΈμ…λ‹λ‹¤.

- loading.js

λ¦¬μ•΅νΈ `Suspense`λ¥Ό κΈ°λ°μΌλ΅ ν• λ΅λ”© μ»΄ν¬λ„νΈμ…λ‹λ‹¤.

- route.js

Next.js 13.4.0 λ²„μ „μ—μ„ app λΌμ°ν…μ„ μ •μ‹μΌλ΅ μ§€μ›ν•λ©° `/app/api`λ¥Ό κΈ°μ¤€μΌλ΅ λ””λ ‰ν„°λ¦¬ λΌμ°ν…μ„ μ§€μ›ν•λ©°, `/api`μ— λ€ν•΄ νμΌλ… λΌμ°ν…μ΄ μ—†μ–΄μ΅μµλ‹λ‹¤. λ€μ‹  λ””λ ‰ν„°λ¦¬λ΅ λΌμ°ν… μ£Όμ†λ¥Ό λ‹΄λ‹Ήν•λ©° νμΌλ…μ€ `route.js`λ΅ ν†µμΌλμ—μµλ‹λ‹¤.

# 11.2 λ¦¬μ•΅νΈ μ„λ²„ μ»΄ν¬λ„νΈ

μ„λ²„ μ»΄ν¬λ„νΈλ” μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§κ³Όλ” λ‹¤λ¥Έ κ°λ…μ…λ‹λ‹¤.

κΈ°μ΅΄ λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈμ™€ μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§μ ν•κ³„λ΅ μΈν•΄ λ“±μ¥ν•κ² λ κ°λ…μ…λ‹λ‹¤.

1. JS λ²λ“¤ ν¬κΈ°κ°€ 0μΈ μ»΄ν¬λ„νΈλ” λ§λ“¤ μ μ—†μ: μ¶”κ°€μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² λ²λ“¤ λ‹¤μ΄λ΅λ“λ¥Ό μ”κµ¬
2. λ°±μ—”λ“ λ¦¬μ†μ¤μ— μ§μ ‘ μ ‘κ·Όν•  μ μ—†μ: ν•­μƒ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°±μ—”λ“μ— μ ‘κ·Όν•κΈ° μ„ν• λ°©λ²•μ„ λ§λ ¨ν•΄μ£Όμ–΄μ•Ό ν•¨
3. μλ™ μ½”λ“ λ¶„ν• μ΄ λ¶κ°€λ¥ν•¨: ν•­μƒ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ—μ„ `lazy`λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•¨
4. μ—°μ‡„μ μΌλ΅ λ°μƒν•λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ”μ²­μ„ λ€μ‘ν•κΈ° μ–΄λ ¤μ›€: λ¶€λ¨ μ»΄ν¬λ„νΈμ μ”μ²­κ³Ό λ λ”λ§μ΄ λλ‚κΈ° μ „κΉμ§€λ” ν•μ„ μ»΄ν¬λ„νΈλ“¤μ μ„λ²„ μ”μ²­μ΄ μ§€μ—°λ¨
5. μ¶”μƒν™”μ— λ“λ” λΉ„μ©μ΄ μ¦κ°€: λ¦¬μ•΅νΈλ” ν…ν”λ¦Ώ μ–Έμ–΄κ°€ μ•„λ‹λ―€λ΅ μ—¬λ¬ λ³µμ΅ν• μ—°μ‚°μ μ½”λ“λ¥Ό μ”κµ¬λ¨. μ΄λ¥Ό
   μ„λ²„μ—μ„ ν•  μλ” μ—†μ„κΉ?

> ν…ν”λ¦Ώ μ–Έμ–΄: HTMLμ— νΉμ • μ–Έμ–΄μ λ¬Έλ²•μ„ μ§‘μ–΄λ„£μ–΄ μ‚¬μ©ν•  μ μλ” κ²ƒμ„ μλ―Έν•λ‹¤.

μ΄λ ‡κ² μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§μ ν•κ³„μ μ„ μ¦‰ μ‚΄ν΄λ³΄λ©΄ λ¨λ“  λ¬Έμ λ” λ¦¬μ•΅νΈκ°€ ν΄λΌμ΄μ–ΈνΈ μ¤‘μ‹¬μΌλ΅ λμ•„κ°€κΈ° λ•λ¬Έμ— λ°μƒν•λ” λ¬Έμ λΌλ” κ²ƒμ„ μ• μ μμµλ‹λ‹¤. λ¬Όλ΅  κ³Όκ±°μ μ „ν†µμ μΈ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ¶• λ°©λ²•, μ¦‰ PHPλ‚ λ μΌμ¦, JSPμ™€ κ°™μ€ μ™„μ „ν μ •μ μΈ λ°©μ‹μ μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§ λ°©μ‹μ„ λ„μ…ν•λ©΄ μ΄λ¬ν• λ¬Έμ λ“¤μ„ μΌλ¶€ ν•΄κ²°ν•  μ μμ§€λ§ λ¦¬μ•΅νΈμ²λΌ λΈλΌμ°μ €μ—μ„ κ³ κ°μ—κ² λ‹¤μ–‘ν• κ²½ν—μ„ μ•κ²¨μ£ΌκΈ°λ” μ–΄λ µμµλ‹λ‹¤. μ„±λ¥μ„ μ„ν•΄ ν΄λΌμ΄μ–ΈνΈμ μ—­ν• μ„ μΌλ¶€ ν¬μƒν•  κ²ƒμ΄ μΆ‹μ„κΉμ”, νΉμ€ μ‚¬μ©μμ—κ² λ‹¤μ–‘ν• μ‚¬μ©μ κ²½ν—μ„ μ•κ²¨μ£ΌκΈ° μ„ν•΄ μΌλ¶€ μ„±λ¥μ„ ν¬μƒν•λ”λΌλ„ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ‹¤μ–‘ν• μ‘μ—…μ„ μ²λ¦¬ν•λ” κ²ƒμ΄ μΆ‹μ„κΉμ”?

κ²°κµ­ μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§, ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ λ”λ§μ€ λ¨λ‘ μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ°μ—λ” μ΅°κΈμ”© μ•„μ‰¬μ›€μ΄ μμµλ‹λ‹¤. μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§μ€ μ •μ  μ½ν…μΈ λ¥Ό λΉ λ¥΄κ² μ κ³µν•κ³ , μ„λ²„μ— μλ” λ°μ΄ν„°μ— μ†μ‰½κ² μ κ³µν•  μ μλ” λ°λ©΄ μ‚¬μ©μμ μΈν„°λ™μ…μ— λ”°λ¥Έ λ‹¤μ–‘ν• μ‚¬μ©μ κ²½ν—μ„ μ κ³µν•κΈ΄ μ–΄λ µμµλ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ λ”λ§μ€ μ‚¬μ©μμ μΈν„°λ™μ…μ— λ”°λΌ μ •λ§ λ‹¤μ–‘ν• κ²ƒλ“¤μ„ μ κ³µν•  μ μμ§€λ§ μ„λ²„μ— λΉ„ν•΄ λλ¦¬κ³  λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” κ²ƒλ„ μ–΄λ µμµλ‹λ‹¤. μ΄λ¬ν• λ‘ κµ¬μ΅°μ μ¥μ μ„ λ¨λ‘ μ·¨ν•κ³ μ ν•λ” κ²ƒμ΄ λ°”λ΅ λ¦¬μ•΅νΈ μ„λ²„ μ»΄ν¬λ„νΈμ…λ‹λ‹¤.

## 11.2.2 μ„λ²„ μ»΄ν¬λ„νΈλ€?

μ„λ²„ μ»΄ν¬λ„νΈλ” ν•λ‚μ μ–Έμ–΄, ν•λ‚μ ν”„λ μ„μ›ν¬, κ·Έλ¦¬κ³  ν•λ‚μ APIμ™€ κ°λ…μ„ μ‚¬μ©ν•λ©΄μ„ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘μ—μ„ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•  μ μλ” κΈ°λ²•μ„ μλ―Έν•©λ‹λ‹¤.

μΌλ¶€ μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈμ—μ„, μΌλ¶€ μ»΄ν¬λ„νΈλ” μ„λ²„μ—μ„ λ λ”λ§λ©λ‹λ‹¤. λ‹¨ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό `import`ν•  μ μ—†λ”λ°, μ΄λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‹¤ν–‰ν•  λ°©λ²•μ΄ μ—†κΈ° λ•λ¬Έ(λΈλΌμ°μ € ν™κ²½μ΄λ―€λ΅)μ…λ‹λ‹¤.

![λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈ νΈλ¦¬](component_tree.png)

- μ„λ²„ μ»΄ν¬λ„νΈ: μƒνƒλ¥Ό κ°€μ§ μ μ—†μΌλ©°, λ λ”λ§ μƒλ…μ£ΌκΈ° λν• μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤. effectλ‚ stateμ— μμ΅΄ν•λ” ν›…μ€ μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤. Web APIμ™€ κ°™μ€ λΈλΌμ°μ € ν™κ²½μ APIλ” μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤. μ„λ²„μ—λ§ μλ” λ°μ΄ν„°λ¥Ό `async/await`μΌλ΅ μ ‘κ·Όν•  μ μμµλ‹λ‹¤. λ‹¤λ¥Έ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•κ±°λ‚ HTML μ”μ†, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•  μ μμµλ‹λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ: μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ¶λ¬μ¤κ±°λ‚ μ„λ²„ μ „μ© ν›…μ„ λ¶λ¬μ¬ μ μ—†μµλ‹λ‹¤. λ‹¤λ§ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μμ‹μΌλ΅ κ°€μ§ μλ” μμµλ‹λ‹¤.
- κ³µμ© μ»΄ν¬λ„νΈ(shared components): μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘μ—μ„ μ‚¬μ©ν•λ” μ»΄ν¬λ„νΈλ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  μ μ•½μ„ λ°›λ” μ»΄ν¬λ„νΈκ°€ λ©λ‹λ‹¤.

κΈ°λ³Έμ μΌλ΅ λ¦¬μ•΅νΈλ” λ¨λ“  μ»΄ν¬λ„νΈλ¥Ό κ³µμ© μ»΄ν¬λ„νΈλ΅ μΈμ‹ν•λ©° μ»΄ν¬λ„νΈ μµμƒλ‹¨μ— `'use client'`λ¥Ό μ‚¬μ©ν•λ©΄ λ…μ‹μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλΌλ” κ²ƒμ„ μ„ μ–Έν•  μ μμµλ‹λ‹¤.

μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§μ΄λ‚ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν™μ©ν•΄ μ§μ ‘ κ°λ°ν•λ” κ²ƒμ€ μ•„μ§ μ–΄λ ¤μ΄ λ‹¨κ³„μ…λ‹λ‹¤. λ•λ¬Έμ— Next.jsμ™€ κ°™μ€ ν”„λ μ„μ›ν¬μ™€ ν•¨κ» λ¦¬μ•΅νΈ μ„λ²„ μ»΄ν¬λ„νΈ μ΄κΈ° κµ¬μ¶•μ„ μ§„ν–‰ν•κ³  μμµλ‹λ‹¤.

## 11.2.3 μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§κ³Ό μ„λ²„ μ»΄ν¬λ„νΈμ μ°¨μ΄

μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§μ μ£Όμ” λ©μ μ€ λΉ λ¥Έ μ΄κΈ° HTML λ΅λ”©μ— μμµλ‹λ‹¤. κ·Έ μ΄ν›„μ—λ” ν΄λΌμ΄μ–ΈνΈμ—μ„ JS μ½”λ“λ¥Ό λ‹¤μ΄λ΅λ“, νμ‹±, μ‹¤ν–‰ν•λ” λΉ„μ©μ΄ λ“­λ‹λ‹¤.

**μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ΄λ¥Ό λ³΄μ™„ν•΄μ¤„ μ μμµλ‹λ‹¤.** μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ„λ²„μ—μ„ λ λ”λ§ν•  μ μλ” μ»΄ν¬λ„νΈλ” μ„λ²„μ—μ„ λ λ”λ§ν•μ—¬ λ‚΄λ ¤λ°›μ€ λ‹¤μ, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§μΌλ΅ μ΄κΈ° HTMLμΌλ΅ λΉ λ¥΄κ² μ „λ‹¬λ°›μ„ μ μμµλ‹λ‹¤.

## 11.2.4 μ„λ²„ μ»΄ν¬λ„νΈλ” μ–΄λ–»κ² μ‘λ™ν•λ”κ°€?

1. μ„λ²„κ°€ λ λ”λ§ μ”μ²­μ„ λ°›μΌλ©΄ μ„λ²„ λ λ”λ§μ„ μ‹μ‘ν•λ‹¤. (μ„λ²„κ°€ λ λ”λ§ν•λ―€λ΅ λ£¨νΈ μ»΄ν¬λ„νΈλ” ν•­μƒ μ„λ²„ μ»΄ν¬λ„νΈ)
2. μ»΄ν¬λ„νΈλ¥Ό JSONμΌλ΅ μ§λ ¬ν™”ν•λ‹¤. μ΄λ–„ μ„λ²„μ—μ„ λ λ”λ§ν•  μ μλ” κ±΄ μ§λ ¬ν™”ν•κ³ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λ“¤μ–΄κ° κ³µκ°„μ€ ν”λ μ΄μ¤ν™€λ”λ΅ λ‚νƒ€λ‚Έλ‹¤. λΈλΌμ°μ €λ” μ΄λ¥Ό λ°›μ•„ λ‹¤μ‹ μ—­μ§λ ¬ν™”ν• λ‹¤μ λ λ”λ§μ„ μν–‰ν•λ‹¤.
3. λΈλΌμ°μ €κ°€ λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό κµ¬μ„±ν•λ‹¤. JSONμ„ λ°›μΌλ©΄ νΈλ¦¬λ¥Ό μ¬κµ¬μ„±ν•΄ μ»΄ν¬λ„νΈλ¥Ό λ§λ“ λ‹¤. μ΄λ• ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό λ°›μΌλ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•κ³  μ„λ²„ κ²°κ³Όλ¬Όμ„ λ°›μΌλ©΄ μ΄λ¥Ό κΈ°λ°μΌλ΅ λ¦¬μ•΅νΈ νΈλ¦¬λ¥Ό λ§λ“¤μ–΄μ„ λ§λ“  νΈλ¦¬λ¥Ό λΈλΌμ°μ €μ DOMμ— μ»¤λ°‹ν•λ‹¤.

π’΅ μ΄λ¬ν• νΉμ§•μΌλ΅ μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ propsλ¥Ό λ„κΈΈ λ• λ°λ“μ‹ μ§λ ¬ν™” κ°€λ¥ν• λ°μ΄ν„°λ¥Ό λ„κ²¨μ•Ό ν•©λ‹λ‹¤. `getServerSideProps`μ—μ„ νμ΄μ§€λ΅ propsλ¥Ό λ„κΈΈ λ•, JSON μ§λ ¬ν™” κ°€λ¥ν• λ°μ΄ν„°λ¥Ό λ°ν™ν•΄μ•Όλ§ ν•λ” μ΄μ μ™€ λ™μΌν•©λ‹λ‹¤.

# 11.3 Next.jsμ—μ„μ λ¦¬μ•΅νΈ μ„λ²„ μ»΄ν¬λ„νΈ

13 λ²„μ „μ—μ„ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ„μ…ν–μΌλ©°, `/app` λ””λ ‰ν„°λ¦¬μ— κµ¬ν„λΌ μμµλ‹λ‹¤.

Next.jsκ°€ λ¦¬μ•΅νΈμ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ„μ…ν•λ©΄μ„ κ³Όκ±° `getServerSideProps`, `getStaticProps`, `getInitialProps`κ°€ `/app` λ””λ ‰ν„°λ¦¬ λ‚΄λ¶€μ—μ„ μ‚­μ λμ—κ³ , `fetch`λ¥Ό κΈ°λ°μΌλ΅ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤.

Next.jsλ” μ¤‘λ³µλ `fetch` μ”μ²­μ„ μ„λ²„μ—μ„ λ λ”λ§μ΄ ν• λ² λλ‚  λ•κΉμ§€ μΊμ‹±ν•΄λ‘κ³  λ³„λ„μ μ§€μ‹κ°€ μ—†λ” μ΄μƒ μµλ€ν• λ°μ΄ν„°λ¥Ό μΊμ‹±ν•©λ‹λ‹¤.

# 11.4 ν„°λ³΄ν©μ λ“±μ¥

μ›Ήν©μ„ λ€μ²΄ν•κΈ° μ„ν•΄ Rust κΈ°λ°μ λΉλ“ λ„κµ¬μΈ ν„°λ³΄ν©μ΄ λ“±μ¥ν–μµλ‹λ‹¤. ν„μ¬λ” λ§μ€ λ²„κ·Έλ¥Ό κ³ μ³¤μΌλ©° κ½¤ μ•μ •μ μΌλ΅ λ™μ‘ν•μ§€λ§, κΈ°μ΅΄μ μ›Ήν©μ„ 100% λ€μ²΄ν•κΈ°μ—λ” λ¬΄λ¦¬κ°€ μλ‹¤λ” μκ²¬μ΄ μμµλ‹λ‹¤. ν„°λ³΄ν©μ€ Rustλ΅ μ¬μ‘μ„±λμ—κΈ° λ•λ¬Έμ— κΈ°μ΅΄ JavaScript κΈ°λ°μ μ›Ήν© ν”λ¬κ·ΈμΈκ³Ό 100% νΈν™λμ§€ μ•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

# 11.5 μ„λ²„ μ•΅μ…

μ„λ²„ μ•΅μ…μ„ μ‚¬μ©ν•λ©΄ APIλ¥Ό μƒμ„±ν•μ§€ μ•λ”λΌλ„ ν•¨μ μμ¤€μ—μ„ μ„λ²„μ— μ§μ ‘ μ ‘κ·Όν•΄ λ°μ΄ν„°λ¥Ό μ”μ²­ν•  μ μμµλ‹λ‹¤. 14 λ²„μ „λ¶€ν„° μ •μ‹ κΈ°λ¥μΌλ΅ ν¬ν•¨λμ—μµλ‹λ‹¤. λ³„λ„μ μ„¤μ •μ—†μ΄ κΈ°λ³Έμ μΌλ΅ ν™μ„±ν™”λ©λ‹λ‹¤.

```tsx
// app/page.tsx

export default function Home() {
  // μ΄ ν•¨μλ” μ„λ²„μ—μ„λ§ μ‹¤ν–‰λ©λ‹λ‹¤.
  async function createInvoice(formData: FormData) {
    "use server"; // μ΄ μ§€μ‹μ–΄κ°€ μ„λ²„ μ•΅μ…μ„μ„ λ…μ‹ν•©λ‹λ‹¤.

    const rawFormData = {
      amount: formData.get("amount"),
      status: formData.get("status"),
    };

    // μ—¬κΈ°μ— λ°μ΄ν„°λ² μ΄μ¤μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” λ΅μ§μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.
    // await saveToDatabase(rawFormData);

    console.log("Invoice created on the server:", rawFormData);
  }

  return (
    // formμ actionμ— μ„λ²„ μ•΅μ… ν•¨μλ¥Ό μ§μ ‘ μ—°κ²°ν•©λ‹λ‹¤.
    <form action={createInvoice}>
      <input type="number" name="amount" />
      <select name="status">
        <option value="pending">Pending</option>
        <option value="paid">Paid</option>
      </select>
      <button type="submit">Create Invoice</button>
    </form>
  );
}
```

μ„λ²„ μ•΅μ…μ„ μ‹¤ν–‰ν•λ©΄ ν„μ¬ λΌμ°νΈ μ£Όμ†μ™€ `ACTION_ID`λ§ λ³΄λ‚΄κ³  κ·Έ μ™Έμ—λ” μ•„λ¬΄κ²ƒλ„ μ‹¤ν–‰ν•μ§€ μ•μµλ‹λ‹¤.
